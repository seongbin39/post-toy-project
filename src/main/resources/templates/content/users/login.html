<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base_layout}">
<head>
  <title>로그인</title>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, maximum-scale=1.0, minimum-scale=1, user-scalable=yes,initial-scale=1.0"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
<body layout:fragment="content" class="container">
<!--<div class="content mt-3">-->
  <!-- Login 12 - Bootstrap Brain Component -->
  <section class="py-3 py-md-5 py-xl-8">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="mb-5">
            <h2 class="display-5 fw-bold text-center">로 그 인</h2>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-12 col-lg-10 col-xl-8">
          <div class="row gy-5 justify-content-center">
            <div class="col-12 col-lg-5">
              <div class="row gy-3 overflow-hidden">
                <form action="/login" method="post">
                  <div class="col-12">
                    <div class="form-floating mb-3">
                      <input type="email" class="form-control border-0 border-bottom rounded-0" name="email" id="email"
                             placeholder="name@example.com" required>
                      <label for="email" class="form-label">이메일</label>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="form-floating mb-3">
                      <input type="password" class="form-control border-0 border-bottom rounded-0" name="password" id="password"
                             placeholder="" required>
                      <label for="password" class="form-label">비밀번호</label>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="row justify-content-between mb-3">
                      <div class="col-6">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" name="remember-me" id="remember-me">
                          <label class="form-check-label text-secondary" for="remember-me">
                            로그인 유지
                          </label>
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="text-end">
                          <a href="/user/find/password" class="link-secondary text-decoration-none">비밀번호 재설정</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="d-grid">
                      <button class="btn btn-lg btn-dark rounded-0 fs-6" type="submit">로그인</button>
                      <a class="btn btn-lg btn-secondary rounded-0 fs-6 mt-3" href="/signup">회원가입</a>
                    </div>
                  </div>
                </form>
              </div>

            </div>
            <div class="col-12 col-lg-2 d-flex align-items-center justify-content-center gap-3 flex-lg-column">
              <div class="bg-dark h-100 d-none d-lg-block" style="width: 1px; --bs-bg-opacity: .1;"></div>
              <div class="bg-dark w-100 d-lg-none" style="height: 1px; --bs-bg-opacity: .1;"></div>
              <div>or</div>
              <div class="bg-dark h-100 d-none d-lg-block" style="width: 1px; --bs-bg-opacity: .1;"></div>
              <div class="bg-dark w-100 d-lg-none" style="height: 1px; --bs-bg-opacity: .1;"></div>
            </div>
            <div class="col-12 col-lg-5 d-flex align-items-center">
              <div class="d-flex gap-3 flex-column w-100 ">
                <a th:href="|/oauth2/authorization/google|"
                   class="btn bsb-btn-2xl btn-outline-dark rounded-0 d-flex align-items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-google text-danger" viewBox="0 0 16 16">
                    <path
                        d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"/>
                  </svg>
                  <span class="ms-2 fs-6 flex-grow-1">구글 계정으로 로그인</span>
                </a>
                <a href="/oauth2/authorization/naver" class="btn bsb-btn-2xl btn-outline-dark rounded-0 d-flex align-items-center">

                  <img src="/images/btn_naver.png" height="20" width="20" alt="naver">
                  <span class="ms-2 fs-6 flex-grow-1">네이버 계정으로 로그인</span>
                </a>
                <a href="/oauth2/authorization/kakao" class="btn bsb-btn-2xl btn-outline-dark rounded-0 d-flex align-items-center">
                  <img src="/images/btn_kakao.png" height="20" width="20" alt="kakao" class="rounded-circle">
                  <span class="ms-2 fs-6 flex-grow-1">카카오 계정으로 로그인</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</body>
<script>
  function login() {
    let email = document.getElementById('email').value;
    let password = document.getElementById('password').value;

    let data = {
      email: email,
      password: password
    }
    console.log("data: ", data)
    fetch('/login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
    }).then(res => {
      if (res.status === 200) {
        alert('로그인 성공');
      } else {
        alert('로그인 실패');
      }
    })
  }
</script>
</html>